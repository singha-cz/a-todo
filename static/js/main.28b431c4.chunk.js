(this["webpackJsonpa-todo"]=this["webpackJsonpa-todo"]||[]).push([[0],[,,,,,,function(e,t,n){e.exports={toDoListModule:"TaskList_toDoListModule__1dVvf",taskList:"TaskList_taskList__1QZ0i",toDoListHeader:"TaskList_toDoListHeader__3pbiU",addButton:"TaskList_addButton__2K-0R",searchButton:"TaskList_searchButton__2g0NW",searchBox:"TaskList_searchBox__1k_bg",closeButton:"TaskList_closeButton__2MTnf",moreButton:"TaskList_moreButton__3N8lg"}},function(e,t,n){e.exports={btn:"Button_btn__1PDgW",btnPrimary:"Button_btnPrimary__1cusH",btnSecondary:"Button_btnSecondary__3vP2d",btnDark:"Button_btnDark__2GTj5",btnOutline:"Button_btnOutline__1B0Zy",btnLink:"Button_btnLink__xQmtj",circle:"Button_circle__25JQl",activeButton:"Button_activeButton__2rxE1"}},,,,function(e,t,n){e.exports={filters:"Filters_filters__3OQvy",filterBadge:"Filters_filterBadge__I7qgo",filterTextBadge:"Filters_filterTextBadge__PH31B"}},,function(e,t,n){e.exports={primary:"#045bbe",taskItem:"Task_taskItem__2tj_t",remove:"Task_remove__5DzNr",taskCompleted:"Task_taskCompleted__3bA8R",pointer:"Task_pointer__19i2T",highlight:"Task_highlight__1jEt-"}},,function(e,t,n){e.exports={primary:"#045bbe",taskCompleted:"EditableOnClick_taskCompleted__2DU0H",pointer:"EditableOnClick_pointer__2PPQ1"}},function(e,t,n){e.exports={progressBarContainer:"Progress_progressBarContainer__3AdkQ",progressBar:"Progress_progressBar__3pcKP"}},function(e,t,n){e.exports={toDoLists:"ToDoLists_toDoLists__1tssY",addToDoList:"ToDoLists_addToDoList__XkqYe"}},,,function(e,t,n){e.exports={buttonGroup:"ButtonGroup_buttonGroup__z_ZHG"}},function(e,t,n){e.exports={popupMenu:"PopupMenu_popupMenu__1ZI5Z"}},function(e,t,n){e.exports={app:"App_app__3NoNF"}},function(e,t,n){e.exports=n(34)},,,,,function(e,t,n){},,,,,,function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),r=n(19),i=n.n(r),c=(n(28),n(3)),l=n(2),s=o.a.createContext([{},function(){}]),u=function(e){var t=Object(a.useState)(function(e){var t=null;return e&&(t=JSON.parse(localStorage.getItem(e))),t}("toDoLists")||[]),n=Object(l.a)(t,2),r=n[0],i=n[1],u=function(e){return r.findIndex((function(t){return t.id===e}))},d=function(e,t){if(e){var n=Date.now(),a=e.target.files[0],o=new FileReader;o.readAsText(a,"UTF-8"),o.onload=function(e){var o=u(t);try{var l=Object(c.a)(r),s=JSON.parse(e.target.result);s.id=n,s.created=n,l[o]=s,console.log(s),i(Object(c.a)(l))}catch(d){console.error(d,"Error importing JSON file:",a.name)}},o.onerror=function(e){console.error("Error importing JSON:",a.name)}}};return Object(a.useEffect)((function(){localStorage.setItem("toDoLists",JSON.stringify(r))}),[r]),o.a.createElement(s.Provider,{value:[r,{remove:function(e,t){var n=u(t),a=r[n].tasks.filter((function(t){return t.id!==e}));r[n].tasks=a,i(Object(c.a)(r))},complete:function(e,t){var n=Date.now(),a=u(t),o=r[a].tasks.map((function(t){return t.id===e&&(t.completed=t.completed?null:n),t}));r[a].tasks=o,i(Object(c.a)(r))},addTask:function(e){var t=Date.now(),n={title:"New Task",created:t,id:t};r.find((function(t){return t.id===e})).tasks.push(n),i(Object(c.a)(r))},save:function(e,t,n){var a=u(n),o=r[a].tasks.map((function(n){return n.id===e&&(n.title=t||"-- no-name task :/ --",n.saved=!0),n}));r[a].tasks=o,i(Object(c.a)(r))},addToDoList:function(e){var t=Date.now(),n={title:e&&e.target.value?e.target.value:"New to-do list",created:t,id:t,tasks:[]};i([].concat(Object(c.a)(r),[n]))},removeToDoList:function(e){i(Object(c.a)(r.filter((function(t){return t.id!==e}))))},updateToDoListTitle:function(e,t){var n=u(e);r[n].title=t,r[n].saved=!0,i(Object(c.a)(r))},exportJSON:function(e){var t=r,n="atodolist.json";if(e){var a=(t=r.find((function(t){return t.id===e}))).title.replace(/\s+/g,"-").toLowerCase();n="".concat(a,".json")}var o=JSON.stringify(t,null,2),i=document.createElement("a");if(i.setAttribute("href","data:text/json;charset=utf-8,"+encodeURIComponent(o)),i.setAttribute("download",n),document.createEvent){var c=document.createEvent("MouseEvents");c.initEvent("click",!0,!0),i.dispatchEvent(c)}else i.click()},importJSON:function(e){var t=document.createElement("input");t.setAttribute("type","file"),t.setAttribute("multiple","multiple"),t.click(),t.addEventListener("change",(function(t){return d(t,e)}))}}]},e.children)},d=n(13),m=n.n(d),f=n(7),p=n.n(f),v=n(8),_=function(e){var t,n=e||{},a=n.onClick,r=n.disabled,i=n.outline,c=void 0!==i&&i,l=n.link,s=n.children,u=n.title,d=void 0===u?"":u,m=n.color,f=void 0===m?"primary":m,_=n.icon,k=void 0!==_&&_,b=n.circle,E=void 0!==b&&b,g=n.active,O=void 0!==g&&g,L=n.className,h=void 0===L?"":L;return o.a.createElement("button",{onClick:a,disabled:r,title:d,className:"\n            ".concat(p.a.btn," \n            ").concat(f?p.a["btn".concat((t=f,t.charAt(0).toUpperCase()+t.slice(1)))]:""," \n            ").concat(c?p.a.btnOutline:"","  \n            ").concat(l?p.a.btnLink:""," \n            ").concat(E?p.a.circle:"","\n            ").concat(h,"\n            ").concat(O?p.a.activeButton:"","\n         ")},k&&o.a.createElement(v.a,{icon:k}),s)},k=n(15),b=n.n(k),E=function(e){var t=e||{},n=t.id,a=t.completed,r=void 0===a?"":a,i=t.created,c=void 0===i?"":i,l=t.title,s=void 0===l?"":l,u=t.saved,d=void 0!==u&&u,m=t.editable,f=void 0!==m&&m,p=t.handlers,v=void 0===p?{}:p,_=v.doSave,k=void 0===_?function(){}:_,E=v.remove,g=void 0===E?function(){}:E,O=v.setEditable,L=void 0===O?function(){}:O,h=o.a.createElement("input",{type:"text",className:"form-control",name:"newTitle",defaultValue:s,onBlur:function(e){return k(e,n)},onKeyUp:function(e){return function(e,t){var n=e.keyCode;13===n&&k(e,t),27===n&&(d?L(!1):g(t))}(e,n)},onFocus:function(e){return e.target.select()},autoFocus:!0}),C=r?new Date(r):"",N=r?", Completed: ".concat(C.toLocaleString()):"",T=new Date(c),x="Created: ".concat(T.toLocaleString()," ").concat(N," - Click to edit ");return f||!d?h:o.a.createElement("span",{title:x,onClick:function(){return L(!f)},className:"".concat(r?b.a.taskCompleted:""," ").concat(b.a.pointer)},s)},g=n(4),O=n(9),L=n(5);g.b.add(L.e,O.b,O.a);var h=function(e){var t=Object(a.useState)(!1),n=Object(l.a)(t,2),r=n[0],i=n[1],c=Object(a.useContext)(s)[1],u=e||{},d=u.id,f=u.completed,p=void 0===f?"":f,k=u.toDoListId,b=void 0===k?null:k,g=c||{},O=g.remove,L=void 0===O?function(){}:O,h=g.complete,C=void 0===h?function(){}:h,N=g.save,T=void 0===N?function(){}:N;return o.a.createElement("li",{className:m.a.taskItem},o.a.createElement("div",null,o.a.createElement(_,{link:!0,onClick:function(){return C(d,b)},title:p?"Mark incompleted":"Mark completed"},o.a.createElement(v.a,{color:p?m.a.primary:"",size:"lg",icon:["far",p?"check-circle":"circle"]}))," ",o.a.createElement(E,Object.assign({editable:r,handlers:{remove:L,doSave:function(e,t){i(!1),T(t,e.target.value,b)},setEditable:i}},e)),o.a.createElement("span",{className:m.a.remove},o.a.createElement(_,{title:"Delete",link:!0,onClick:function(){return L(d,b)},icon:"times"}))))},C=n(20),N=n.n(C),T=function(e){return o.a.createElement("div",{className:N.a.buttonGroup},e.children)},x=n(11),B=n.n(x),j=function(e){var t=function(e){var t=e.value,n=e.color;return o.a.createElement("span",{className:B.a.filterBadge,style:{backgroundColor:n||""}},t)},n=Object(a.useContext)(s)[0],r=e.filters||{},i=Object(l.a)(r,2),c=i[0],u=i[1],d=n.find((function(t){return t.id===e.id})).tasks,m=d.filter((function(e){return!e.completed})),f=d.length-m.length;return o.a.createElement("div",{className:B.a.filters},o.a.createElement(T,null,o.a.createElement(_,{active:"ALL"===c,outline:!0,color:"ALL"===c?"dark":"secondary",onClick:function(){return u("ALL")}},"All tasks ",o.a.createElement("span",{className:B.a.filterTextBadge},"(",d.length,")")),o.a.createElement(_,{active:"ACTIVE"===c,outline:!0,color:"ACTIVE"===c?"dark":"secondary",onClick:function(){return u("ACTIVE")}},"Active ",o.a.createElement(t,{value:m.length})),o.a.createElement(_,{active:"COMPLETED"===c,outline:!0,color:"COMPLETED"===c?"dark":"secondary",onClick:function(){return u("COMPLETED")}},"Completed ",o.a.createElement("span",{className:B.a.filterTextBadge},"(",f,")"))))},D=n(16),y=n.n(D);g.b.add(L.e,O.b,O.a);var S=function(e){var t=Object(a.useContext)(s)[0];if(t.length>0){var n=t.find((function(t){return t.id===e.id})).tasks,r=100*n.filter((function(e){return e.completed})).length/n.length,i={width:"".concat(r,"%"),backgroundColor:"hsl(".concat(1*r,", 60%, 45%)")};return o.a.createElement("div",{className:"text-center"},o.a.createElement("h5",{className:"m-0 text-muted"},r.toLocaleString(void 0,{maximumFractionDigits:1})," % completed"),o.a.createElement("div",{className:y.a.progressBarContainer},o.a.createElement("div",{className:y.a.progressBar,style:i})))}return""},A=n(6),w=n.n(A),J=n(21),I=n.n(J),M=function(e){var t=e.exportJSON,n=e.importJSON,r=e.id,i=Object(a.useContext)(s),c=Object(l.a)(i,1)[0].find((function(e){return e.id===r})),u=[{id:"export",label:"Export JSON",action:t,hidden:!c.tasks||0===c.tasks.length},{id:"import",label:"Import JSON",action:n}].map((function(e){return e.hidden?"":o.a.createElement("li",{key:e.id},o.a.createElement("a",{href:"/#",onClick:e.action},e.label))}));return o.a.createElement("ul",{className:I.a.popupMenu},u)};g.b.add(L.b,L.c,L.d,L.a);var P=function(e){var t=Object(a.useState)(),n=Object(l.a)(t,2),r=n[0],i=n[1],c=Object(a.useState)(),u=Object(l.a)(c,2),d=u[0],m=u[1],f=Object(a.useState)("ALL"),p=Object(l.a)(f,2),k=p[0],b=p[1],g=Object(a.useState)(!1),O=Object(l.a)(g,2),L=O[0],C=O[1],N=Object(a.useContext)(s),T=Object(l.a)(N,2),x=T[0],B=T[1],D=x.find((function(t){return t.id===e.id})),y=D.tasks||[],A=B||{},J=A.addTask,I=A.updateToDoListTitle,P=function(e,t){var n=[];switch(e){case"ALL":n=t;break;case"ACTIVE":n=t.filter((function(e){return!e.completed}));break;case"COMPLETED":n=t.filter((function(e){return e.completed}));break;default:n=t||[]}return n}(k,r?y.filter((function(e){return e.title.toLowerCase().includes(r.toLowerCase())})):y),F=P.length,H=P.length>0?P.map((function(t){return o.a.createElement(h,Object.assign({},t,{key:t.id,toDoListId:e.id}))})):[],U=(y.every((function(e){return!e.completed})),y.every((function(e){return e.completed})),y.filter((function(e){return e.saved})).length);return o.a.createElement("section",{className:w.a.toDoListModule},o.a.createElement(_,{color:"link",icon:"ellipsis-v",className:w.a.moreButton,onClick:function(){C(!L)}}),o.a.createElement(_,{color:"link",icon:"times",className:w.a.closeButton,onClick:function(){return B.removeToDoList(e.id)}}),L&&o.a.createElement(M,{exportJSON:function(){C(!1),B.exportJSON(D.id)},importJSON:function(){C(!1),B.importJSON(D.id)},id:e.id}),U>0&&o.a.createElement(S,{id:e.id}),o.a.createElement("header",{className:w.a.toDoListHeader},o.a.createElement("h3",null,o.a.createElement(E,Object.assign({editable:d,handlers:{doSave:function(t){m(!1),I(e.id,t.target.value)},setEditable:m}},D)),F>0&&!d&&o.a.createElement("span",null," (",F,")")),o.a.createElement(_,{color:"primary",circle:!0,onClick:function(){return J(e.id)},icon:"plus",title:"Add task",className:w.a.addButton})),U>1&&o.a.createElement("div",{className:w.a.searchBox},o.a.createElement("input",{type:"text",name:"search",value:r||"",placeholder:"Search tasks\u2026",className:"form-control border-box w-100",onChange:function(e){return i(e.target.value)},onKeyUp:function(e){27===e.keyCode&&i("")},title:"Search/filter tasks by title. Click Esc to remove the filter."}),o.a.createElement(v.a,{icon:"search",color:"silver",className:w.a.searchButton})),o.a.createElement(j,{id:e.id,filters:[k,function(e){b(e)}]}),o.a.createElement("div",null,P.length<1&&o.a.createElement("p",null,o.a.createElement("em",null,"-- No tasks found --")),o.a.createElement("ul",{className:w.a.taskList},H)))},F=n(17),H=n.n(F),U=function(){return Object(a.useContext)(s)[0].map((function(e){return o.a.createElement(P,{key:e.id,id:e.id})}))},G=function(){var e=Object(a.useContext)(s),t=Object(l.a)(e,2),n=t[0],r=t[1];return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:H.a.addToDoList},o.a.createElement(_,{color:"primary",circle:!0,icon:"plus",onClick:r.addToDoList,title:"Add new todo list"})),o.a.createElement("div",{className:H.a.toDoLists},o.a.createElement(U,null),0===n.length&&o.a.createElement("div",{className:"text-center mx-auto"},o.a.createElement("em",null,"-- No to-do lists yet --"),o.a.createElement("p",null,o.a.createElement(_,{color:"primary",onClick:r.addToDoList}," Create a new one")))))},Q=n(22),V=n.n(Q),Z=function(){return o.a.createElement("div",{className:V.a.app},o.a.createElement(u,null,o.a.createElement(G,null)))};i.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(Z,null)),document.getElementById("root"))}],[[23,1,2]]]);
//# sourceMappingURL=main.28b431c4.chunk.js.map